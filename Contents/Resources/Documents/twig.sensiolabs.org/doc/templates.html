<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="robots" content="index, follow, all" />
    <meta name="Author" content="Sensio Labs" />
    <meta name="Language" content="en" />
    <meta name="Copyright" content="Sensio" />
    <meta name="Publisher" content="Sensio" />
    <meta name="Description" content="Twig - The flexible, fast, and secure template engine for PHP" />
    <meta name="Keywords" content="twig, templating, template, engine, template engine, template language, php" />

    <title>Twig for Template Designers - Documentation - Twig - The flexible, fast, and secure PHP template engine</title>

    <link href="../css/reset-min.css" rel="stylesheet" type="text/css" />
    <link href="../css/base.css" rel="stylesheet" type="text/css" />
    <link href="../css/colors.css" rel="stylesheet" type="text/css" />
    <link href="../css/code.css" rel="stylesheet" type="text/css" />
    <link href="../css/pygments.css" rel="stylesheet" type="text/css" />

    
    <link rel="alternate" type="application/rss+xml" href="http://feeds.feedburner.com/twig-project" />

    <link href="http://connect.sensiolabs.com/css/sln.css" rel="stylesheet" type="text/css" media="all" />

    <script type="text/javascript" src="../js/jquery-1.7.2.min.js"></script>

    <script type="text/javascript">
        (function(w, d, s) {
            function go() {
                var js, fjs = d.getElementsByTagName(s)[0], load = function(url, id) {
                    if (d.getElementById(id)) {return;}
                    js = d.createElement(s); js.src = url; js.id = id;
                    fjs.parentNode.insertBefore(js, fjs);
                };
                load('https://connect.sensiolabs.com/sln.js?customize_url=/js/sln_customize.js', 'sln_bar');
            }
            if (w.addEventListener) { w.addEventListener("load", go, false); }
            else if (w.attachEvent) { w.attachEvent("onload",go); }
        } (window, document, 'script'));
    </script>

    <!--[if IE 6]>
      <script type="text/javascript" src="/js/DD_belatedPNG_0.0.7a-min.js"></script>
      <script type="text/javascript">
        DD_belatedPNG.fix('.png_fix');
      </script>
    <![endif]-->

    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-10931939-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script');
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        ga.setAttribute('async', 'true');
        document.documentElement.firstChild.appendChild(ga);
      })();
    </script>
  </head>
  <body>
    <div id="sln"></div>
    <div class="hd">
      <div class="illustration png_fix">
        <div class="content">
          <div class="sensio_product">
            <img class="png_fix" src="../images/sensio-labs-product.png" alt="a Sensio Labs Product" />
          </div>
          <div class="clearfix">
            <div class="logo_header"><a href="../index.html">TWIG</a></div>
            <h1 class="title_header">
              The flexible, fast, and secure<br />template engine for PHP
            </h1>
          </div>

          <div class="menu">
            <ul>
              <li><a href="../index.html">ABOUT</a></li>
              <li><a class="active" href="../documentation">DOCUMENTATION</a></li>
              <li><a href="http://blog.twig.sensiolabs.org/">BLOG</a></li>
              <li><a href="../development">DEVELOPMENT</a></li>
              <li><a href="../contributors">CONTRIBUTORS</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="bd">
      <div class="content">
                        <div class="infobar clearfix">
                    <div id="doc-toc" class="infobar-box">
            <h3>Table of Contents</h3>
            <ul>
<li><a class="reference internal" href="templates.html#">Twig for Template Designers</a><ul>
<li><a class="reference internal" href="templates.html#synopsis">Synopsis</a></li>
<li><a class="reference internal" href="templates.html#ides-integration">IDEs Integration</a></li>
<li><a class="reference internal" href="templates.html#variables">Variables</a><ul>
<li><a class="reference internal" href="templates.html#global-variables">Global Variables</a></li>
<li><a class="reference internal" href="templates.html#setting-variables">Setting Variables</a></li>
</ul>
</li>
<li><a class="reference internal" href="templates.html#filters">Filters</a></li>
<li><a class="reference internal" href="templates.html#functions">Functions</a></li>
<li><a class="reference internal" href="templates.html#control-structure">Control Structure</a></li>
<li><a class="reference internal" href="templates.html#comments">Comments</a></li>
<li><a class="reference internal" href="templates.html#including-other-templates">Including other Templates</a></li>
<li><a class="reference internal" href="templates.html#template-inheritance">Template Inheritance</a></li>
<li><a class="reference internal" href="templates.html#html-escaping">HTML Escaping</a><ul>
<li><a class="reference internal" href="templates.html#working-with-manual-escaping">Working with Manual Escaping</a></li>
<li><a class="reference internal" href="templates.html#working-with-automatic-escaping">Working with Automatic Escaping</a></li>
</ul>
</li>
<li><a class="reference internal" href="templates.html#escaping">Escaping</a></li>
<li><a class="reference internal" href="templates.html#macros">Macros</a></li>
<li><a class="reference internal" href="templates.html#expressions">Expressions</a><ul>
<li><a class="reference internal" href="templates.html#literals">Literals</a></li>
<li><a class="reference internal" href="templates.html#math">Math</a></li>
<li><a class="reference internal" href="templates.html#logic">Logic</a></li>
<li><a class="reference internal" href="templates.html#comparisons">Comparisons</a></li>
<li><a class="reference internal" href="templates.html#containment-operator">Containment Operator</a></li>
<li><a class="reference internal" href="templates.html#test-operator">Test Operator</a></li>
<li><a class="reference internal" href="templates.html#other-operators">Other Operators</a></li>
<li><a class="reference internal" href="templates.html#string-interpolation">String Interpolation</a></li>
</ul>
</li>
<li><a class="reference internal" href="templates.html#whitespace-control">Whitespace Control</a></li>
<li><a class="reference internal" href="templates.html#extensions">Extensions</a></li>
</ul>
</li>
</ul>

            </div>
        
        <div class="infobar-box">
            <h3>Questions &amp; Feedback</h3>
            <div class="feedback">
                <p>
                  <strong>Found a typo or an error?</strong><br />
                  Want to improve this document? <a href="https://github.com/fabpot/Twig/edit/master/doc/templates.rst">Edit</a> it.
                </p>
                <p>
                  <strong>Need support or have a technical question?</strong><br />
                  Post to the <a href="http://groups.google.com/group/twig-users">user mailing-list</a>.
                 </p>
            </div>

            <h3>License</h3>
            <div id="license">
                <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"><img alt="Creative Commons License" src="http://symfony.com/images/license.png" /></a>
                Twig <span xmlns:dc="http://purl.org/dc/elements/1.1/" href="http://purl.org/dc/dcmitype/MovingImage" rel="dc:type">documentation</span> is licensed under a
                Creative Commons Attribution-Share Alike 3.0
                Unported <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">License</a>.
            </div>
        </div>
    </div>

    <div class="body-web">
        <div class="section" id="twig-for-template-designers">
<h1>Twig for Template Designers<a class="headerlink" href="templates.html#twig-for-template-designers" title="Permalink to this headline">¶</a></h1>
<p>This document describes the syntax and semantics of the template engine and
will be most useful as reference to those creating Twig templates.</p>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="templates.html#synopsis" title="Permalink to this headline">¶</a></h2>
<p>A template is simply a text file. It can generate any text-based format (HTML,
XML, CSV, LaTeX, etc.). It doesn't have a specific extension, <tt class="docutils literal"><code>.html</code></tt> or
<tt class="docutils literal"><code>.xml</code></tt> are just fine.</p>
<p>A template contains <strong>variables</strong> or <strong>expressions</strong>, which get replaced with
values when the template is evaluated, and <strong>tags</strong>, which control the logic
of the template.</p>
<p>Below is a minimal template that illustrates a few basics. We will cover the
details later on:</p>
<div class="literal-block"><div class="highlight-html+jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>My Webpage<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;ul</span> <span class="na">id=</span><span class="s">&quot;navigation&quot;</span><span class="nt">&gt;</span>
        <span class="cp">{%</span> <span class="k">for</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">navigation</span> <span class="cp">%}</span>
            <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">item.href</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="nt">&gt;</span><span class="cp">{{</span> <span class="nv">item.caption</span> <span class="cp">}}</span><span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
        <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
        <span class="nt">&lt;/ul&gt;</span>

        <span class="nt">&lt;h1&gt;</span>My Webpage<span class="nt">&lt;/h1&gt;</span>
        <span class="cp">{{</span> <span class="nv">a_variable</span> <span class="cp">}}</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</td></tr></table></div></div>
<p>There are two kinds of delimiters: <tt class="docutils literal"><code>{% ... %}</code></tt> and <tt class="docutils literal"><code>{{ ... }}</code></tt>. The first
one is used to execute statements such as for-loops, the latter prints the
result of an expression to the template.</p>
</div>
<div class="section" id="ides-integration">
<h2>IDEs Integration<a class="headerlink" href="templates.html#ides-integration" title="Permalink to this headline">¶</a></h2>
<p>Many IDEs support syntax highlighting and auto-completion for Twig:</p>
<ul class="simple">
<li><em>Textmate</em> via the <a class="reference external" href="https://github.com/Anomareh/PHP-Twig.tmbundle">Twig bundle</a></li>
<li><em>Vim</em> via the <a class="reference external" href="http://jinja.pocoo.org/2/documentation/integration">Jinja syntax plugin</a></li>
<li><em>Netbeans</em> via the <a class="reference external" href="http://plugins.netbeans.org/plugin/37069/php-twig">Twig syntax plugin</a> (until 7.1, native as of 7.2)</li>
<li><em>PhpStorm</em> (native as of 2.1)</li>
<li><em>Eclipse</em> via the <a class="reference external" href="https://github.com/pulse00/Twig-Eclipse-Plugin">Twig plugin</a></li>
<li><em>Sublime Text</em> via the <a class="reference external" href="https://github.com/Anomareh/PHP-Twig.tmbundle">Twig bundle</a></li>
<li><em>GtkSourceView</em> via the <a class="reference external" href="https://github.com/gabrielcorpse/gedit-twig-template-language">Twig language definition</a> (used by gedit and other projects)</li>
<li><em>Coda</em> and <em>SubEthaEdit</em> via the <a class="reference external" href="https://github.com/bobthecow/Twig-HTML.mode">Twig syntax mode</a></li>
<li><em>Coda 2</em> via the <a class="reference external" href="https://github.com/muxx/Twig-HTML.mode">other Twig syntax mode</a></li>
<li><em>Komodo</em> and <em>Komodo Edit</em> via the Twig highlight/syntax check mode</li>
<li><em>Notepad++</em> via the <a class="reference external" href="https://github.com/Banane9/notepadplusplus-twig">Notepad++ Twig Highlighter</a></li>
</ul>
</div>
<div class="section" id="variables">
<h2>Variables<a class="headerlink" href="templates.html#variables" title="Permalink to this headline">¶</a></h2>
<p>The application passes variables to the templates you can mess around in the
template. Variables may have attributes or elements on them you can access
too. How a variable looks like heavily depends on the application providing
those.</p>
<p>You can use a dot (<tt class="docutils literal"><code>.</code></tt>) to access attributes of a variable (methods or
properties of a PHP object, or items of a PHP array), or the so-called
&quot;subscript&quot; syntax (<tt class="docutils literal"><code>[]</code></tt>):</p>
<div class="literal-block"><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">foo.bar</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">foo</span><span class="o">[</span><span class="s1">&#39;bar&#39;</span><span class="o">]</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
<p>When the attribute contains special characters (like <tt class="docutils literal"><code>-</code></tt> that would be
interpreted as the minus operator), use the <tt class="docutils literal"><code>attribute</code></tt> function instead to
access the variable attribute:</p>
<div class="literal-block"><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="c">{# equivalent to the non-working foo.data-foo #}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">attribute</span><span class="o">(</span><span class="nv">foo</span><span class="o">,</span> <span class="s1">&#39;data-foo&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">It's important to know that the curly braces are <em>not</em> part of the
variable but the print statement. If you access variables inside tags
don't put the braces around.</p>
</div></div>
<p>If a variable or attribute does not exist, you will get back a <tt class="docutils literal"><code>null</code></tt> value
when the <tt class="docutils literal"><code>strict_variables</code></tt> option is set to <tt class="docutils literal"><code>false</code></tt>, otherwise Twig will
throw an error (see <a class="reference internal" href="api.html#environment-options"><em>environment options</em></a>).</p>
<div class="admonition-wrapper">
<div class="sidebar"></div><div class="admonition admonition-sidebar"><p class="first sidebar-title">Implementation</p>
<p>For convenience sake <tt class="docutils literal"><code>foo.bar</code></tt> does the following things on the PHP
layer:</p>
<ul class="simple">
<li>check if <tt class="docutils literal"><code>foo</code></tt> is an array and <tt class="docutils literal"><code>bar</code></tt> a valid element;</li>
<li>if not, and if <tt class="docutils literal"><code>foo</code></tt> is an object, check that <tt class="docutils literal"><code>bar</code></tt> is a valid property;</li>
<li>if not, and if <tt class="docutils literal"><code>foo</code></tt> is an object, check that <tt class="docutils literal"><code>bar</code></tt> is a valid method
(even if <tt class="docutils literal"><code>bar</code></tt> is the constructor - use <tt class="docutils literal"><code>__construct()</code></tt> instead);</li>
<li>if not, and if <tt class="docutils literal"><code>foo</code></tt> is an object, check that <tt class="docutils literal"><code>getBar</code></tt> is a valid method;</li>
<li>if not, and if <tt class="docutils literal"><code>foo</code></tt> is an object, check that <tt class="docutils literal"><code>isBar</code></tt> is a valid method;</li>
<li>if not, return a <tt class="docutils literal"><code>null</code></tt> value.</li>
</ul>
<p><tt class="docutils literal"><code>foo['bar']</code></tt> on the other hand only works with PHP arrays:</p>
<ul class="last simple">
<li>check if <tt class="docutils literal"><code>foo</code></tt> is an array and <tt class="docutils literal"><code>bar</code></tt> a valid element;</li>
<li>if not, return a <tt class="docutils literal"><code>null</code></tt> value.</li>
</ul>
</div></div>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">If you want to get a dynamic attribute on a variable, use the
<a class="reference internal" href="functions/attribute.html"><em>attribute</em></a> function instead.</p>
</div></div>
<div class="section" id="global-variables">
<h3>Global Variables<a class="headerlink" href="templates.html#global-variables" title="Permalink to this headline">¶</a></h3>
<p>The following variables are always available in templates:</p>
<ul class="simple">
<li><tt class="docutils literal"><code>_self</code></tt>: references the current template;</li>
<li><tt class="docutils literal"><code>_context</code></tt>: references the current context;</li>
<li><tt class="docutils literal"><code>_charset</code></tt>: references the current charset.</li>
</ul>
</div>
<div class="section" id="setting-variables">
<h3>Setting Variables<a class="headerlink" href="templates.html#setting-variables" title="Permalink to this headline">¶</a></h3>
<p>You can assign values to variables inside code blocks. Assignments use the
<a class="reference internal" href="tags/set.html"><em>set</em></a> tag:</p>
<div class="literal-block"><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="o">[</span><span class="m">1</span><span class="o">,</span> <span class="m">2</span><span class="o">]</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="o">{</span><span class="s1">&#39;foo&#39;</span><span class="o">:</span> <span class="s1">&#39;bar&#39;</span><span class="o">}</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
</div>
</div>
<div class="section" id="filters">
<h2>Filters<a class="headerlink" href="templates.html#filters" title="Permalink to this headline">¶</a></h2>
<p>Variables can be modified by <strong>filters</strong>. Filters are separated from the
variable by a pipe symbol (<tt class="docutils literal"><code>|</code></tt>) and may have optional arguments in
parentheses. Multiple filters can be chained. The output of one filter is
applied to the next.</p>
<p>The following example removes all HTML tags from the <tt class="docutils literal"><code>name</code></tt> and title-cases
it:</p>
<div class="literal-block"><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">name</span><span class="o">|</span><span class="nf">striptags</span><span class="o">|</span><span class="nf">title</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
<p>Filters that accept arguments have parentheses around the arguments. This
example will join a list by commas:</p>
<div class="literal-block"><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">list</span><span class="o">|</span><span class="nf">join</span><span class="o">(</span><span class="s1">&#39;, &#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
<p>To apply a filter on a section of code, wrap it with the
<a class="reference internal" href="tags/filter.html"><em>filter</em></a> tag:</p>
<div class="literal-block"><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">filter</span> <span class="nf">upper</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  This text becomes uppercase</span>
<span class="cp">{%</span> <span class="k">endfilter</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
<p>Go to the <a class="reference internal" href="filters/index.html"><em>filters</em></a> page to learn more about the built-in
filters.</p>
</div>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="templates.html#functions" title="Permalink to this headline">¶</a></h2>
<p>Functions can be called to generate content. Functions are called by their
name followed by parentheses (<tt class="docutils literal"><code>()</code></tt>) and may have arguments.</p>
<p>For instance, the <tt class="docutils literal"><code>range</code></tt> function returns a list containing an arithmetic
progression of integers:</p>
<div class="literal-block"><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">for</span> <span class="nv">i</span> <span class="k">in</span> <span class="nv">range</span><span class="o">(</span><span class="m">0</span><span class="o">,</span> <span class="m">3</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{{</span> <span class="nv">i</span> <span class="cp">}}</span><span class="x">,</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
<p>Go to the <a class="reference internal" href="functions/index.html"><em>functions</em></a> page to learn more about the
built-in functions.</p>
</div>
<div class="section" id="control-structure">
<h2>Control Structure<a class="headerlink" href="templates.html#control-structure" title="Permalink to this headline">¶</a></h2>
<p>A control structure refers to all those things that control the flow of a
program - conditionals (i.e. <tt class="docutils literal"><code>if</code></tt>/<tt class="docutils literal"><code>elseif</code></tt>/<tt class="docutils literal"><code>else</code></tt>), <tt class="docutils literal"><code>for</code></tt>-loops, as
well as things like blocks. Control structures appear inside <tt class="docutils literal"><code>{% ... %}</code></tt>
blocks.</p>
<p>For example, to display a list of users provided in a variable called
<tt class="docutils literal"><code>users</code></tt>, use the <a class="reference internal" href="tags/for.html"><em>for</em></a> tag:</p>
<div class="literal-block"><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="x">&lt;h1&gt;Members&lt;/h1&gt;</span>
<span class="x">&lt;ul&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">user</span> <span class="k">in</span> <span class="nv">users</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">        &lt;li&gt;</span><span class="cp">{{</span> <span class="nv">user.username</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="x">&lt;/li&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;/ul&gt;</span>
</pre></div>
</td></tr></table></div></div>
<p>The <a class="reference internal" href="tags/if.html"><em>if</em></a> tag can be used to test an expression:</p>
<div class="literal-block"><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">if</span> <span class="nv">users</span><span class="o">|</span><span class="nf">length</span> <span class="o">&gt;</span> <span class="m">0</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;ul&gt;</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">user</span> <span class="k">in</span> <span class="nv">users</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">            &lt;li&gt;</span><span class="cp">{{</span> <span class="nv">user.username</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="x">&lt;/li&gt;</span>
<span class="x">        </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;/ul&gt;</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
<p>Go to the <a class="reference internal" href="tags/index.html"><em>tags</em></a> page to learn more about the built-in tags.</p>
</div>
<div class="section" id="comments">
<h2>Comments<a class="headerlink" href="templates.html#comments" title="Permalink to this headline">¶</a></h2>
<p>To comment-out part of a line in a template, use the comment syntax <tt class="docutils literal"><code>{# ...
#}</code></tt>. This is useful for debugging or to add information for other template
designers or yourself:</p>
<div class="literal-block"><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="c">{# note: disabled template because we no longer use this</span>
<span class="c">    {% for user in users %}</span>
<span class="c">        ...</span>
<span class="c">    {% endfor %}</span>
<span class="c">#}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
</div>
<div class="section" id="including-other-templates">
<h2>Including other Templates<a class="headerlink" href="templates.html#including-other-templates" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="tags/include.html"><em>include</em></a> tag is useful to include a template and
return the rendered content of that template into the current one:</p>
<div class="literal-block"><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">include</span> <span class="s1">&#39;sidebar.html&#39;</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
<p>Per default included templates are passed the current context.</p>
<p>The context that is passed to the included template includes variables defined
in the template:</p>
<div class="literal-block"><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">for</span> <span class="nv">box</span> <span class="k">in</span> <span class="nv">boxes</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">include</span> <span class="s2">&quot;render_box.html&quot;</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
<p>The included template <tt class="docutils literal"><code>render_box.html</code></tt> is able to access <tt class="docutils literal"><code>box</code></tt>.</p>
<p>The filename of the template depends on the template loader. For instance, the
<tt class="docutils literal"><code>Twig_Loader_Filesystem</code></tt> allows you to access other templates by giving the
filename. You can access templates in subdirectories with a slash:</p>
<div class="literal-block"><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">include</span> <span class="s2">&quot;sections/articles/sidebar.html&quot;</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
<p>This behavior depends on the application embedding Twig.</p>
</div>
<div class="section" id="template-inheritance">
<h2>Template Inheritance<a class="headerlink" href="templates.html#template-inheritance" title="Permalink to this headline">¶</a></h2>
<p>The most powerful part of Twig is template inheritance. Template inheritance
allows you to build a base &quot;skeleton&quot; template that contains all the common
elements of your site and defines <strong>blocks</strong> that child templates can
override.</p>
<p>Sounds complicated but is very basic. It's easier to understand it by
starting with an example.</p>
<p>Let's define a base template, <tt class="docutils literal"><code>base.html</code></tt>, which defines a simple HTML
skeleton document that you might use for a simple two-column page:</p>
<div class="literal-block"><div class="highlight-html+jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="cp">{%</span> <span class="k">block</span> <span class="nv">head</span> <span class="cp">%}</span>
            <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href=</span><span class="s">&quot;style.css&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;title&gt;</span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span> - My Webpage<span class="nt">&lt;/title&gt;</span>
        <span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;content&quot;</span><span class="nt">&gt;</span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;footer&quot;</span><span class="nt">&gt;</span>
            <span class="cp">{%</span> <span class="k">block</span> <span class="nv">footer</span> <span class="cp">%}</span>
                <span class="ni">&amp;copy;</span> Copyright 2011 by <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;http://domain.invalid/&quot;</span><span class="nt">&gt;</span>you<span class="nt">&lt;/a&gt;</span>.
            <span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</td></tr></table></div></div>
<p>In this example, the <a class="reference internal" href="tags/block.html"><em>block</em></a> tags define four blocks that
child templates can fill in. All the <tt class="docutils literal"><code>block</code></tt> tag does is to tell the
template engine that a child template may override those portions of the
template.</p>
<p>A child template might look like this:</p>
<div class="literal-block"><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">extends</span> <span class="s2">&quot;base.html&quot;</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}</span><span class="x">Index</span><span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">head</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{{</span> <span class="nv">parent</span><span class="o">()</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">    &lt;style type=&quot;text/css&quot;&gt;</span>
<span class="x">        .important { color: #336699; }</span>
<span class="x">    &lt;/style&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;h1&gt;Index&lt;/h1&gt;</span>
<span class="x">    &lt;p class=&quot;important&quot;&gt;</span>
<span class="x">        Welcome to my awesome homepage.</span>
<span class="x">    &lt;/p&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
<p>The <a class="reference internal" href="tags/extends.html"><em>extends</em></a> tag is the key here. It tells the template
engine that this template &quot;extends&quot; another template. When the template system
evaluates this template, first it locates the parent. The extends tag should
be the first tag in the template.</p>
<p>Note that since the child template doesn't define the <tt class="docutils literal"><code>footer</code></tt> block, the
value from the parent template is used instead.</p>
<p>It's possible to render the contents of the parent block by using the
<a class="reference internal" href="functions/parent.html"><em>parent</em></a> function. This gives back the results of the
parent block:</p>
<div class="literal-block"><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">block</span> <span class="nv">sidebar</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;h3&gt;Table Of Contents&lt;/h3&gt;</span>
<span class="x">    ...</span>
<span class="x">    </span><span class="cp">{{</span> <span class="nv">parent</span><span class="o">()</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
<div class="admonition-wrapper">
<div class="tip"></div><div class="admonition admonition-tip"><p class="first admonition-title">Tip</p>
<p class="last">The documentation page for the <a class="reference internal" href="tags/extends.html"><em>extends</em></a> tag describes
more advanced features like block nesting, scope, dynamic inheritance, and
conditional inheritance.</p>
</div></div>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">Twig also supports multiple inheritance with the so called horizontal reuse
with the help of the <a class="reference internal" href="tags/use.html"><em>use</em></a> tag. This is an advanced feature
hardly ever needed in regular templates.</p>
</div></div>
</div>
<div class="section" id="html-escaping">
<h2>HTML Escaping<a class="headerlink" href="templates.html#html-escaping" title="Permalink to this headline">¶</a></h2>
<p>When generating HTML from templates, there's always a risk that a variable
will include characters that affect the resulting HTML. There are two
approaches: manually escaping each variable or automatically escaping
everything by default.</p>
<p>Twig supports both, automatic escaping is enabled by default.</p>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">Automatic escaping is only supported if the <em>escaper</em> extension has been
enabled (which is the default).</p>
</div></div>
<div class="section" id="working-with-manual-escaping">
<h3>Working with Manual Escaping<a class="headerlink" href="templates.html#working-with-manual-escaping" title="Permalink to this headline">¶</a></h3>
<p>If manual escaping is enabled, it is <strong>your</strong> responsibility to escape
variables if needed. What to escape? Any variable you don't trust.</p>
<p>Escaping works by piping the variable through the
<a class="reference internal" href="filters/escape.html"><em>escape</em></a> or <tt class="docutils literal"><code>e</code></tt> filter:</p>
<div class="literal-block"><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">user.username</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
<p>By default, the <tt class="docutils literal"><code>escape</code></tt> filter uses the <tt class="docutils literal"><code>html</code></tt> strategy, but depending on
the escaping context, you might want to explicitly use any other available
strategies:</p>
<blockquote>
<div>{{ user.username|e('js') }}
{{ user.username|e('css') }}
{{ user.username|e('url') }}
{{ user.username|e('html_attr') }}</div></blockquote>
</div>
<div class="section" id="working-with-automatic-escaping">
<h3>Working with Automatic Escaping<a class="headerlink" href="templates.html#working-with-automatic-escaping" title="Permalink to this headline">¶</a></h3>
<p>Whether automatic escaping is enabled or not, you can mark a section of a
template to be escaped or not by using the <a class="reference internal" href="tags/autoescape.html"><em>autoescape</em></a>
tag:</p>
<div class="literal-block"><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">autoescape</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    Everything will be automatically escaped in this block (using the HTML strategy)</span>
<span class="cp">{%</span> <span class="k">endautoescape</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
<p>By default, auto-escaping uses the <tt class="docutils literal"><code>html</code></tt> escaping strategy. If you output
variables in other contexts, you need to explicitly escape them with the
appropriate escaping strategy:</p>
<div class="literal-block"><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">autoescape</span> <span class="s1">&#39;js&#39;</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    Everything will be automatically escaped in this block (using the JS strategy)</span>
<span class="cp">{%</span> <span class="k">endautoescape</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
</div>
</div>
<div class="section" id="escaping">
<h2>Escaping<a class="headerlink" href="templates.html#escaping" title="Permalink to this headline">¶</a></h2>
<p>It is sometimes desirable or even necessary to have Twig ignore parts it would
otherwise handle as variables or blocks. For example if the default syntax is
used and you want to use <tt class="docutils literal"><code>{{</code></tt> as raw string in the template and not start a
variable you have to use a trick.</p>
<p>The easiest way is to output the variable delimiter (<tt class="docutils literal"><code>{{</code></tt>) by using a variable
expression:</p>
<div class="literal-block"><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">{{</span> <span class="s1">&#39;{{&#39;</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
<p>For bigger sections it makes sense to mark a block <a class="reference internal" href="tags/raw.html"><em>raw</em></a>.</p>
</div>
<div class="section" id="macros">
<h2>Macros<a class="headerlink" href="templates.html#macros" title="Permalink to this headline">¶</a></h2>
<p>Macros are comparable with functions in regular programming languages. They
are useful to reuse often used HTML fragments to not repeat yourself.</p>
<p>A macro is defined via the <a class="reference internal" href="tags/macro.html"><em>macro</em></a> tag. Here is a small example
(subsequently called <tt class="docutils literal"><code>forms.html</code></tt>) of a macro that renders a form element:</p>
<div class="literal-block"><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">macro</span> <span class="nv">input</span><span class="o">(</span><span class="nv">name</span><span class="o">,</span> <span class="nv">value</span><span class="o">,</span> <span class="nv">type</span><span class="o">,</span> <span class="nv">size</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;input type=&quot;</span><span class="cp">{{</span> <span class="nv">type</span><span class="o">|</span><span class="nf">default</span><span class="o">(</span><span class="s1">&#39;text&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&quot; name=&quot;</span><span class="cp">{{</span> <span class="nv">name</span> <span class="cp">}}</span><span class="x">&quot; value=&quot;</span><span class="cp">{{</span> <span class="nv">value</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="x">&quot; size=&quot;</span><span class="cp">{{</span> <span class="nv">size</span><span class="o">|</span><span class="nf">default</span><span class="o">(</span><span class="m">20</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&quot; /&gt;</span>
<span class="cp">{%</span> <span class="k">endmacro</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
<p>Macros can be defined in any template, and need to be &quot;imported&quot; via the
<a class="reference internal" href="tags/import.html"><em>import</em></a> tag before being used:</p>
<div class="literal-block"><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">import</span> <span class="s2">&quot;forms.html&quot;</span> <span class="k">as</span> <span class="nv">forms</span> <span class="cp">%}</span><span class="x"></span>

<span class="x">&lt;p&gt;</span><span class="cp">{{</span> <span class="nv">forms.input</span><span class="o">(</span><span class="s1">&#39;username&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&lt;/p&gt;</span>
</pre></div>
</td></tr></table></div></div>
<p>Alternatively, you can import individual macro names from a template into the
current namespace via the <a class="reference internal" href="tags/from.html"><em>from</em></a> tag and optionally alias them:</p>
<div class="literal-block"><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">from</span> <span class="s1">&#39;forms.html&#39;</span> <span class="k">import</span> <span class="nv">input</span> <span class="k">as</span> <span class="nv">input_field</span> <span class="cp">%}</span><span class="x"></span>

<span class="x">&lt;dl&gt;</span>
<span class="x">    &lt;dt&gt;Username&lt;/dt&gt;</span>
<span class="x">    &lt;dd&gt;</span><span class="cp">{{</span> <span class="nv">input_field</span><span class="o">(</span><span class="s1">&#39;username&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&lt;/dd&gt;</span>
<span class="x">    &lt;dt&gt;Password&lt;/dt&gt;</span>
<span class="x">    &lt;dd&gt;</span><span class="cp">{{</span> <span class="nv">input_field</span><span class="o">(</span><span class="s1">&#39;password&#39;</span><span class="o">,</span> <span class="s1">&#39;&#39;</span><span class="o">,</span> <span class="s1">&#39;password&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&lt;/dd&gt;</span>
<span class="x">&lt;/dl&gt;</span>
</pre></div>
</td></tr></table></div></div>
</div>
<div class="section" id="expressions">
<h2>Expressions<a class="headerlink" href="templates.html#expressions" title="Permalink to this headline">¶</a></h2>
<p>Twig allows expressions everywhere. These work very similar to regular PHP and
even if you're not working with PHP you should feel comfortable with it.</p>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">The operator precedence is as follows, with the lowest-precedence
operators listed first: <tt class="docutils literal"><code>b-and</code></tt>, <tt class="docutils literal"><code>b-xor</code></tt>, <tt class="docutils literal"><code>b-or</code></tt>, <tt class="docutils literal"><code>or</code></tt>, <tt class="docutils literal"><code>and</code></tt>,
<tt class="docutils literal"><code>==</code></tt>, <tt class="docutils literal"><code>!=</code></tt>, <tt class="docutils literal"><code>&lt;</code></tt>, <tt class="docutils literal"><code>&gt;</code></tt>, <tt class="docutils literal"><code>&gt;=</code></tt>, <tt class="docutils literal"><code>&lt;=</code></tt>, <tt class="docutils literal"><code>in</code></tt>, <tt class="docutils literal"><code>..</code></tt>, <tt class="docutils literal"><code>+</code></tt>,
<tt class="docutils literal"><code>-</code></tt>, <tt class="docutils literal"><code>~</code></tt>, <tt class="docutils literal"><code>*</code></tt>, <tt class="docutils literal"><code>/</code></tt>, <tt class="docutils literal"><code>//</code></tt>, <tt class="docutils literal"><code>%</code></tt>, <tt class="docutils literal"><code>is</code></tt>, and <tt class="docutils literal"><code>**</code></tt>.</p>
</div></div>
<div class="section" id="literals">
<h3>Literals<a class="headerlink" href="templates.html#literals" title="Permalink to this headline">¶</a></h3>
<p class="versionadded">
<span class="versionmodified">New in version 1.5: </span>Support for hash keys as names and expressions was added in Twig 1.5.</p>
<p>The simplest form of expressions are literals. Literals are representations
for PHP types such as strings, numbers, and arrays. The following literals
exist:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><code>&quot;Hello World&quot;</code></tt>: Everything between two double or single quotes is a
string. They are useful whenever you need a string in the template (for
example as arguments to function calls, filters or just to extend or
include a template).</p>
</li>
<li><p class="first"><tt class="docutils literal"><code>42</code></tt> / <tt class="docutils literal"><code>42.23</code></tt>: Integers and floating point numbers are created by just
writing the number down. If a dot is present the number is a float,
otherwise an integer.</p>
</li>
<li><p class="first"><tt class="docutils literal"><code>[&quot;foo&quot;, &quot;bar&quot;]</code></tt>: Arrays are defined by a sequence of expressions
separated by a comma (<tt class="docutils literal"><code>,</code></tt>) and wrapped with squared brackets (<tt class="docutils literal"><code>[]</code></tt>).</p>
</li>
<li><p class="first"><tt class="docutils literal"><code>{&quot;foo&quot;: &quot;bar&quot;}</code></tt>: Hashes are defined by a list of keys and values
separated by a comma (<tt class="docutils literal"><code>,</code></tt>) and wrapped with curly braces (<tt class="docutils literal"><code>{}</code></tt>):</p>
<div class="literal-block"><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span class="c">{# keys as string #}</span><span class="x"></span>
<span class="x">{ &#39;foo&#39;: &#39;foo&#39;, &#39;bar&#39;: &#39;bar&#39; }</span>

<span class="c">{# keys as names (equivalent to the previous hash) -- as of Twig 1.5 #}</span><span class="x"></span>
<span class="x">{ foo: &#39;foo&#39;, bar: &#39;bar&#39; }</span>

<span class="c">{# keys as integer #}</span><span class="x"></span>
<span class="x">{ 2: &#39;foo&#39;, 4: &#39;bar&#39; }</span>

<span class="c">{# keys as expressions (the expression must be enclosed into parentheses) -- as of Twig 1.5 #}</span><span class="x"></span>
<span class="x">{ (1 + 1): &#39;foo&#39;, (a ~ &#39;b&#39;): &#39;bar&#39; }</span>
</pre></div>
</td></tr></table></div></div>
</li>
<li><p class="first"><tt class="docutils literal"><code>true</code></tt> / <tt class="docutils literal"><code>false</code></tt>: <tt class="docutils literal"><code>true</code></tt> represents the true value, <tt class="docutils literal"><code>false</code></tt>
represents the false value.</p>
</li>
<li><p class="first"><tt class="docutils literal"><code>null</code></tt>: <tt class="docutils literal"><code>null</code></tt> represents no specific value. This is the value returned
when a variable does not exist. <tt class="docutils literal"><code>none</code></tt> is an alias for <tt class="docutils literal"><code>null</code></tt>.</p>
</li>
</ul>
<p>Arrays and hashes can be nested:</p>
<div class="literal-block"><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="o">[</span><span class="m">1</span><span class="o">,</span> <span class="o">{</span><span class="s2">&quot;foo&quot;</span><span class="o">:</span> <span class="s2">&quot;bar&quot;</span><span class="o">}]</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
<div class="admonition-wrapper">
<div class="tip"></div><div class="admonition admonition-tip"><p class="first admonition-title">Tip</p>
<p class="last">Using double-quoted or single-quoted strings has no impact on performance
but string interpolation is only supported in double-quoted strings.</p>
</div></div>
</div>
<div class="section" id="math">
<h3>Math<a class="headerlink" href="templates.html#math" title="Permalink to this headline">¶</a></h3>
<p>Twig allows you to calculate with values. This is rarely useful in templates
but exists for completeness' sake. The following operators are supported:</p>
<ul class="simple">
<li><tt class="docutils literal"><code>+</code></tt>: Adds two objects together (the operands are casted to numbers). <tt class="docutils literal"><code>{{
1 + 1 }}</code></tt> is <tt class="docutils literal"><code>2</code></tt>.</li>
<li><tt class="docutils literal"><code>-</code></tt>: Subtracts the second number from the first one. <tt class="docutils literal"><code>{{ 3 - 2 }}</code></tt> is
<tt class="docutils literal"><code>1</code></tt>.</li>
<li><tt class="docutils literal"><code>/</code></tt>: Divides two numbers. The returned value will be a floating point
number. <tt class="docutils literal"><code>{{ 1 / 2 }}</code></tt> is <tt class="docutils literal"><code>{{ 0.5 }}</code></tt>.</li>
<li><tt class="docutils literal"><code>%</code></tt>: Calculates the remainder of an integer division. <tt class="docutils literal"><code>{{ 11 % 7 }}</code></tt> is
<tt class="docutils literal"><code>4</code></tt>.</li>
<li><tt class="docutils literal"><code>//</code></tt>: Divides two numbers and returns the truncated integer result. <tt class="docutils literal"><code>{{
20 // 7 }}</code></tt> is <tt class="docutils literal"><code>2</code></tt>.</li>
<li><tt class="docutils literal"><code>*</code></tt>: Multiplies the left operand with the right one. <tt class="docutils literal"><code>{{ 2 * 2 }}</code></tt> would
return <tt class="docutils literal"><code>4</code></tt>.</li>
<li><tt class="docutils literal"><code>**</code></tt>: Raises the left operand to the power of the right operand. <tt class="docutils literal"><code>{{ 2 **
3 }}</code></tt> would return <tt class="docutils literal"><code>8</code></tt>.</li>
</ul>
</div>
<div class="section" id="logic">
<h3>Logic<a class="headerlink" href="templates.html#logic" title="Permalink to this headline">¶</a></h3>
<p>You can combine multiple expressions with the following operators:</p>
<ul class="simple">
<li><tt class="docutils literal"><code>and</code></tt>: Returns true if the left and the right operands are both true.</li>
<li><tt class="docutils literal"><code>or</code></tt>: Returns true if the left or the right operand is true.</li>
<li><tt class="docutils literal"><code>not</code></tt>: Negates a statement.</li>
<li><tt class="docutils literal"><code>(expr)</code></tt>: Groups an expression.</li>
</ul>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">Twig also support bitwise operators (<tt class="docutils literal"><code>b-and</code></tt>, <tt class="docutils literal"><code>b-xor</code></tt>, and <tt class="docutils literal"><code>b-or</code></tt>).</p>
</div></div>
</div>
<div class="section" id="comparisons">
<h3>Comparisons<a class="headerlink" href="templates.html#comparisons" title="Permalink to this headline">¶</a></h3>
<p>The following comparison operators are supported in any expression: <tt class="docutils literal"><code>==</code></tt>,
<tt class="docutils literal"><code>!=</code></tt>, <tt class="docutils literal"><code>&lt;</code></tt>, <tt class="docutils literal"><code>&gt;</code></tt>, <tt class="docutils literal"><code>&gt;=</code></tt>, and <tt class="docutils literal"><code>&lt;=</code></tt>.</p>
</div>
<div class="section" id="containment-operator">
<h3>Containment Operator<a class="headerlink" href="templates.html#containment-operator" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><code>in</code></tt> operator performs containment test.</p>
<p>It returns <tt class="docutils literal"><code>true</code></tt> if the left operand is contained in the right:</p>
<div class="literal-block"><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="c">{# returns true #}</span><span class="x"></span>

<span class="cp">{{</span> <span class="m">1</span> <span class="k">in</span> <span class="o">[</span><span class="m">1</span><span class="o">,</span> <span class="m">2</span><span class="o">,</span> <span class="m">3</span><span class="o">]</span> <span class="cp">}}</span><span class="x"></span>

<span class="cp">{{</span> <span class="s1">&#39;cd&#39;</span> <span class="k">in</span> <span class="s1">&#39;abcde&#39;</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
<div class="admonition-wrapper">
<div class="tip"></div><div class="admonition admonition-tip"><p class="first admonition-title">Tip</p>
<p class="last">You can use this filter to perform a containment test on strings, arrays,
or objects implementing the <tt class="docutils literal"><code>Traversable</code></tt> interface.</p>
</div></div>
<p>To perform a negative test, use the <tt class="docutils literal"><code>not in</code></tt> operator:</p>
<div class="literal-block"><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">if</span> <span class="m">1</span> <span class="k">not</span> <span class="k">in</span> <span class="o">[</span><span class="m">1</span><span class="o">,</span> <span class="m">2</span><span class="o">,</span> <span class="m">3</span><span class="o">]</span> <span class="cp">%}</span><span class="x"></span>

<span class="c">{# is equivalent to #}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">if</span> <span class="k">not</span> <span class="o">(</span><span class="m">1</span> <span class="k">in</span> <span class="o">[</span><span class="m">1</span><span class="o">,</span> <span class="m">2</span><span class="o">,</span> <span class="m">3</span><span class="o">])</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
</div>
<div class="section" id="test-operator">
<h3>Test Operator<a class="headerlink" href="templates.html#test-operator" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><code>is</code></tt> operator performs tests. Tests can be used to test a variable against
a common expression. The right operand is name of the test:</p>
<div class="literal-block"><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="c">{# find out if a variable is odd #}</span><span class="x"></span>

<span class="cp">{{</span> <span class="nv">name</span> <span class="k">is</span> <span class="nf">odd</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
<p>Tests can accept arguments too:</p>
<div class="literal-block"><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">if</span> <span class="nb">loop</span><span class="nv">.index</span> <span class="k">is</span> <span class="nf">divisibleby</span><span class="o">(</span><span class="m">3</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
<p>Tests can be negated by using the <tt class="docutils literal"><code>is not</code></tt> operator:</p>
<div class="literal-block"><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">if</span> <span class="nb">loop</span><span class="nv">.index</span> <span class="k">is</span> <span class="k">not</span> <span class="nf">divisibleby</span><span class="o">(</span><span class="m">3</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>

<span class="c">{# is equivalent to #}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">if</span> <span class="k">not</span> <span class="o">(</span><span class="nb">loop</span><span class="nv">.index</span> <span class="k">is</span> <span class="nf">divisibleby</span><span class="o">(</span><span class="m">3</span><span class="o">))</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
<p>Go to the <a class="reference internal" href="tests/index.html"><em>tests</em></a> page to learn more about the built-in
tests.</p>
</div>
<div class="section" id="other-operators">
<h3>Other Operators<a class="headerlink" href="templates.html#other-operators" title="Permalink to this headline">¶</a></h3>
<p>The following operators are very useful but don't fit into any of the other
categories:</p>
<ul class="simple">
<li><tt class="docutils literal"><code>..</code></tt>: Creates a sequence based on the operand before and after the
operator (this is just syntactic sugar for the <a class="reference internal" href="functions/range.html"><em>range</em></a>
function).</li>
<li><tt class="docutils literal"><code>|</code></tt>: Applies a filter.</li>
<li><tt class="docutils literal"><code>~</code></tt>: Converts all operands into strings and concatenates them. <tt class="docutils literal"><code>{{ &quot;Hello
&quot; ~ name ~ &quot;!&quot; }}</code></tt> would return (assuming <tt class="docutils literal"><code>name</code></tt> is <tt class="docutils literal"><code>'John'</code></tt>) <tt class="docutils literal"><code>Hello
John!</code></tt>.</li>
<li><tt class="docutils literal"><code>.</code></tt>, <tt class="docutils literal"><code>[]</code></tt>: Gets an attribute of an object.</li>
<li><tt class="docutils literal"><code>?:</code></tt>: The PHP ternary operator: <tt class="docutils literal"><code>{{ foo ? 'yes' : 'no' }}</code></tt></li>
</ul>
</div>
<div class="section" id="string-interpolation">
<h3>String Interpolation<a class="headerlink" href="templates.html#string-interpolation" title="Permalink to this headline">¶</a></h3>
<p class="versionadded">
<span class="versionmodified">New in version 1.5: </span>String interpolation was added in Twig 1.5.</p>
<p>String interpolation (<cite>#{expression}</cite>) allows any valid expression to appear
within a <em>double-quoted string</em>. The result of evaluating that expression is
inserted into the string:</p>
<div class="literal-block"><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">{{</span> <span class="s2">&quot;foo #{bar} baz&quot;</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{{</span> <span class="s2">&quot;foo #{1 + 2} baz&quot;</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
</div>
</div>
<div class="section" id="whitespace-control">
<h2>Whitespace Control<a class="headerlink" href="templates.html#whitespace-control" title="Permalink to this headline">¶</a></h2>
<p class="versionadded">
<span class="versionmodified">New in version 1.1: </span>Tag level whitespace control was added in Twig 1.1.</p>
<p>The first newline after a template tag is removed automatically (like in PHP.)
Whitespace is not further modified by the template engine, so each whitespace
(spaces, tabs, newlines etc.) is returned unchanged.</p>
<p>Use the <tt class="docutils literal"><code>spaceless</code></tt> tag to remove whitespace <em>between HTML tags</em>:</p>
<div class="literal-block"><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">spaceless</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;div&gt;</span>
<span class="x">        &lt;strong&gt;foo&lt;/strong&gt;</span>
<span class="x">    &lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endspaceless</span> <span class="cp">%}</span><span class="x"></span>

<span class="c">{# output will be &lt;div&gt;&lt;strong&gt;foo&lt;/strong&gt;&lt;/div&gt; #}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
<p>In addition to the spaceless tag you can also control whitespace on a per tag
level. By using the whitespace control modifier on your tags, you can trim
leading and or trailing whitespace:</p>
<div class="literal-block"><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">set</span> <span class="nv">value</span> <span class="o">=</span> <span class="s1">&#39;no spaces&#39;</span> <span class="cp">%}</span><span class="x"></span>
<span class="c">{#- No leading/trailing whitespace -#}</span><span class="x"></span>
<span class="cp">{%</span>- <span class="k">if</span> <span class="kp">true</span> -<span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{{</span><span class="o">-</span> <span class="nv">value</span> -<span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span>- <span class="k">endif</span> -<span class="cp">%}</span><span class="x"></span>

<span class="c">{# output &#39;no spaces&#39; #}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
<p>The above sample shows the default whitespace control modifier, and how you can
use it to remove whitespace around tags.  Trimming space will consume all whitespace
for that side of the tag.  It is possible to use whitespace trimming on one side
of a tag:</p>
<div class="literal-block"><div class="highlight-jinja"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">set</span> <span class="nv">value</span> <span class="o">=</span> <span class="s1">&#39;no spaces&#39;</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;li&gt;    </span><span class="cp">{{</span><span class="o">-</span> <span class="nv">value</span> <span class="cp">}}</span><span class="x">    &lt;/li&gt;</span>

<span class="c">{# outputs &#39;&lt;li&gt;no spaces    &lt;/li&gt;&#39; #}</span><span class="x"></span>
</pre></div>
</td></tr></table></div></div>
</div>
<div class="section" id="extensions">
<h2>Extensions<a class="headerlink" href="templates.html#extensions" title="Permalink to this headline">¶</a></h2>
<p>Twig can be easily extended.</p>
<p>If you are looking for new tags, filters, or functions, have a look at the Twig official
<a class="reference external" href="http://github.com/fabpot/Twig-extensions">extension repository</a>.</p>
<p>If you want to create your own, read the <a class="reference internal" href="advanced.html#creating-extensions"><em>Creating an
Extension</em></a> chapter.</p>
</div>
</div>

    </div>

            <div class="navigation">
                            <a accesskey="P" title="Introduction" href="intro.html">
                    &laquo;&nbsp;Introduction
                </a>
                        <span class="separator">|</span>                            <a accesskey="N" title="Twig for Developers" href="api.html">
                    Twig for Developers&nbsp;&raquo;
                </a>
                    </div>
          </div>
      <div class="ft">
        <div class="content">
          This website is powered by PHP and Twig. The Twig <a href="../images/twig-logo.png">logo</a> is &copy; 2010-2012 Sensio Labs
        </div>
      </div>
    </div>
  </body>
</html>
